// ==UserScript==
// @name       FreakySchool
// @namespace  lordimmaculate
// @version    1.2.0
// @author     LordImmaculate, Babstiaan
// @icon       https://vitejs.dev/logo.svg
// @source     https://github.com/lordimmaculate/freakyschool-react
// @match      https://*.smartschool.be/*
// @exclude    https://*.smartschool.be/?module=Messages&file=composeMessage*
// @exclude    https://*.smartschool.be/login*
// @exclude    https://*.smartschool.be/2fa*
// @exclude    https://oauth.smartschool.be/*
// @exclude    https://wopi1.smartschool.be/*
// @require    https://update.greasyfork.org/scripts/481384/1565312/Grid%20Smartschool.js
// @require    https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js
// @require    https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js
// @grant      GM_addStyle
// @run-at     document-start
// ==/UserScript==

(t=>{if(typeof GM_addStyle=="function"){GM_addStyle(t);return}const e=document.createElement("style");e.textContent=t,document.head.append(e)})(' /*! tailwindcss v4.1.7 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-500:oklch(63.7% .237 25.331);--color-blue-500:oklch(62.3% .214 259.815);--color-gray-300:oklch(87.2% .01 258.338);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--font-weight-bold:700;--radius-lg:.5rem;--radius-xl:.75rem;--radius-3xl:1.5rem;--blur-sm:8px;--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.fixed{position:fixed}.top-72{top:calc(var(--spacing)*72)}.right-4{right:calc(var(--spacing)*4)}.bottom-4{bottom:calc(var(--spacing)*4)}.bottom-10{bottom:calc(var(--spacing)*10)}.left-1\\/2{left:50%}.left-10{left:calc(var(--spacing)*10)}.mt-4{margin-top:calc(var(--spacing)*4)}.ml-1{margin-left:calc(var(--spacing)*1)}.flex{display:flex}.grid{display:grid}.hidden{display:none}.w-7xl{width:var(--container-7xl)}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-center{justify-content:center}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-4{gap:calc(var(--spacing)*4)}.rounded-3xl{border-radius:var(--radius-3xl)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-gray-300{border-color:var(--color-gray-300)}.bg-blue-500{background-color:var(--color-blue-500)}.bg-red-500{background-color:var(--color-red-500)}.bg-white{background-color:var(--color-white)}.p-0\\.5{padding:calc(var(--spacing)*.5)}.p-2{padding:calc(var(--spacing)*2)}.p-4{padding:calc(var(--spacing)*4)}.px-4{padding-inline:calc(var(--spacing)*4)}.py-2{padding-block:calc(var(--spacing)*2)}.py-4{padding-block:calc(var(--spacing)*4)}.text-center{text-align:center}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.text-black{color:var(--color-black)}.text-white{color:var(--color-white)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-black\\/50{--tw-shadow-color:#00000080}@supports (color:color-mix(in lab,red,red)){.shadow-black\\/50{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)50%,transparent)var(--tw-shadow-alpha),transparent)}}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false} ');

(function (ee, xe) {
	'use strict';

	var U=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Y={exports:{}},H={};/**
	 * @license React
	 * react-jsx-runtime.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */var ne;function ve(){if(ne)return H;ne=1;var e=ee,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,m=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:true,ref:true,__self:true,__source:true};function c(l,a,h){var d,f={},i=null,p=null;h!==void 0&&(i=""+h),a.key!==void 0&&(i=""+a.key),a.ref!==void 0&&(p=a.ref);for(d in a)u.call(a,d)&&!s.hasOwnProperty(d)&&(f[d]=a[d]);if(l&&l.defaultProps)for(d in a=l.defaultProps,a)f[d]===void 0&&(f[d]=a[d]);return {$$typeof:r,type:l,key:i,ref:p,props:f,_owner:m.current}}return H.Fragment=n,H.jsx=c,H.jsxs=c,H}var oe;function ye(){return oe||(oe=1,Y.exports=ve()),Y.exports}var t=ye(),W={},se;function je(){if(se)return W;se=1;var e=xe;return W.createRoot=e.createRoot,W.hydrateRoot=e.hydrateRoot,W}var we=je();const de=be(we);var Z,ae;function Se(){if(ae)return Z;ae=1;var e="Expected a function",r=NaN,n="[object Symbol]",u=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,a=typeof U=="object"&&U&&U.Object===Object&&U,h=typeof self=="object"&&self&&self.Object===Object&&self,d=a||h||Function("return this")(),f=Object.prototype,i=f.toString,p=Math.max,k=Math.min,_=function(){return d.Date.now()};function G(o,b,y){var C,L,F,S,j,T,I=0,M=false,R=false,A=true;if(typeof o!="function")throw new TypeError(e);b=z(b)||0,D(y)&&(M=!!y.leading,R="maxWait"in y,F=R?p(z(y.maxWait)||0,b):F,A="trailing"in y?!!y.trailing:A);function x(g){var O=C,P=L;return C=L=void 0,I=g,S=o.apply(P,O),S}function V(g){return I=g,j=setTimeout(J,b),M?x(g):S}function $(g){var O=g-T,P=g-I,re=b-O;return R?k(re,F-P):re}function N(g){var O=g-T,P=g-I;return T===void 0||O>=b||O<0||R&&P>=F}function J(){var g=_();if(N(g))return te(g);j=setTimeout(J,$(g));}function te(g){return j=void 0,A&&C?x(g):(C=L=void 0,S)}function pe(){j!==void 0&&clearTimeout(j),I=0,C=T=L=j=void 0;}function he(){return j===void 0?S:te(_())}function X(){var g=_(),O=N(g);if(C=arguments,L=this,T=g,O){if(j===void 0)return V(T);if(R)return j=setTimeout(J,b),x(T)}return j===void 0&&(j=setTimeout(J,b)),S}return X.cancel=pe,X.flush=he,X}function D(o){var b=typeof o;return !!o&&(b=="object"||b=="function")}function K(o){return !!o&&typeof o=="object"}function q(o){return typeof o=="symbol"||K(o)&&i.call(o)==n}function z(o){if(typeof o=="number")return o;if(q(o))return r;if(D(o)){var b=typeof o.valueOf=="function"?o.valueOf():o;o=D(b)?b+"":b;}if(typeof o!="string")return o===0?o:+o;o=o.replace(u,"");var y=s.test(o);return y||c.test(o)?l(o.slice(2),y?2:8):m.test(o)?r:+o}return Z=G,Z}Se();var ue=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function ie(e,r,n,u){const m=ee.useRef(r);ue(()=>{m.current=r;},[r]),ee.useEffect(()=>{const s=window;if(!(s&&s.addEventListener))return;const c=l=>{m.current(l);};return s.addEventListener(e,c,u),()=>{s.removeEventListener(e,c,u);}},[e,n,u]);}function le(e){const r=ee.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return ue(()=>{r.current=e;},[e]),ee.useCallback((...n)=>{var u;return (u=r.current)==null?void 0:u.call(r,...n)},[r])}var Q=typeof window>"u";function v(e,r,n={}){const{initializeWithValue:u=true}=n,m=ee.useCallback(i=>n.serializer?n.serializer(i):JSON.stringify(i),[n]),s=ee.useCallback(i=>{if(n.deserializer)return n.deserializer(i);if(i==="undefined")return;const p=r instanceof Function?r():r;let k;try{k=JSON.parse(i);}catch(_){return console.error("Error parsing JSON:",_),p}return k},[n,r]),c=ee.useCallback(()=>{const i=r instanceof Function?r():r;if(Q)return i;try{const p=window.localStorage.getItem(e);return p?s(p):i}catch(p){return console.warn(`Error reading localStorage key “${e}”:`,p),i}},[r,e,s]),[l,a]=ee.useState(()=>u?c():r instanceof Function?r():r),h=le(i=>{Q&&console.warn(`Tried setting localStorage key “${e}” even though environment is not a client`);try{const p=i instanceof Function?i(c()):i;window.localStorage.setItem(e,m(p)),a(p),window.dispatchEvent(new StorageEvent("local-storage",{key:e}));}catch(p){console.warn(`Error setting localStorage key “${e}”:`,p);}}),d=le(()=>{Q&&console.warn(`Tried removing localStorage key “${e}” even though environment is not a client`);const i=r instanceof Function?r():r;window.localStorage.removeItem(e),a(i),window.dispatchEvent(new StorageEvent("local-storage",{key:e}));});ee.useEffect(()=>{a(c());},[e]);const f=ee.useCallback(i=>{i.key&&i.key!==e||a(c());},[e,c]);return ie("storage",f),ie("local-storage",f),[l,h,d]}function me({children:e}){return t.jsx("div",{className:"flex flex-col fixed top-72 left-1/2 transform -translate-x-1/2 w-7xl py-4 bg-white text-black border rounded-3xl items-center justify-center gap-4",children:e})}function Ne({closeSettings:e}){const[r,n,u]=v("color",""),[m,s]=ee.useState(r),[c,l,a]=v("name",""),[h,d]=ee.useState(c),[f,i,p]=v("oldSrc",""),[k,_]=ee.useState(f),[G,D,K]=v("newSrc",""),[q,z]=ee.useState(G),[o,b]=v("timer",true),[y,C]=ee.useState(o),[L,F]=v("darkMode",false),[S,j]=ee.useState(L),[T,I]=v("timetable",[{id:1,start:"08:30",end:"09:20"},{id:2,start:"09:20",end:"10:10"},{id:3,start:"10:20",end:"11:10"},{id:4,start:"11:10",end:"12:00"},{id:5,start:"13:00",end:"13:50"},{id:6,start:"13:50",end:"14:40"},{id:7,start:"14:50",end:"15:40"},{id:8,start:"15:40",end:"16:30"}]),[M,R]=ee.useState(T);function A(){m==""?u():n(m),h==""?a():l(h),k==""?p():i(k),q==""?K():D(q),b(y),F(S),I(M),e();}return t.jsxs(me,{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"FreakySchool Instellingen"}),t.jsxs("div",{className:"flex flex-col gap-1 items-stretch",children:[t.jsx("label",{htmlFor:"color",className:"text-sm",children:"Kleur van de header (CSS kleur of hex code):"}),t.jsx("input",{id:"color",type:"text",value:m,onChange:x=>{s(x.target.value);},className:"border border-gray-300 rounded-lg p-2 mt-4",placeholder:"Type hier de kleur die je wilt"}),t.jsx("label",{htmlFor:"name",className:"text-sm",children:"Naam:"}),t.jsx("input",{id:"name",type:"text",value:h,onChange:x=>{d(x.target.value);},className:"border border-gray-300 rounded-lg p-2 mt-4",placeholder:"Type hier de naam die je wilt"}),t.jsx("label",{htmlFor:"oldSrc",className:"text-sm",children:"Oude SRC (gebruik inspect element op jouw Smartschool pfp):"}),t.jsx("input",{id:"oldSrc",type:"text",value:k,onChange:x=>{_(x.target.value);},className:"border border-gray-300 rounded-lg p-2 mt-4",placeholder:"Plak hier de oude src van je pfp"}),t.jsx("label",{htmlFor:"newSrc",className:"text-sm",children:"Nieuwe SRC:"}),t.jsx("input",{id:"newSrc",type:"text",value:q,onChange:x=>{z(x.target.value);},className:"border border-gray-300 rounded-lg p-2 mt-4",placeholder:"Plak hier de nieuwe src van je pfp"}),t.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[t.jsx("label",{htmlFor:"timer",className:"text-sm",children:"Timer:"}),t.jsx("input",{id:"timer",type:"button",value:y?"Aan":"Uit",onClick:()=>{C(!y);},className:"border border-gray-300 rounded-lg p-2 mt-4"})]}),t.jsxs("div",{className:"flex flex-row gap-1 items-center",children:[t.jsx("label",{htmlFor:"darkMode",className:"text-sm",children:"Donkere modus:"}),t.jsx("input",{id:"darkMode",type:"button",value:S?"Aan":"Uit",onClick:()=>{j(!S);},className:"border border-gray-300 rounded-lg p-2 mt-4"})]}),t.jsx("span",{className:"text-center",children:"Lessenrooster:"}),t.jsx("div",{className:"grid grid-cols-2 items-center justify-center gap-0.5",children:M.map(x=>t.jsxs("div",{className:"flex flex-row gap-1 items-center justify-center ml-1",children:[t.jsx("span",{children:x.id}),t.jsx("input",{type:"time",value:x.start,onChange:V=>{const $=M.map(N=>N.id===x.id?{...N,start:V.target.value}:N);R($);},className:"border border-gray-300 rounded-lg p-0.5 "}),t.jsx("input",{type:"time",value:x.end,onChange:V=>{const $=M.map(N=>N.id===x.id?{...N,end:V.target.value}:N);R($);},className:"border border-gray-300 rounded-lg p-0.5 "})]},x.id))})]}),t.jsxs("div",{className:"flex flex-row gap-2",children:[t.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-xl mt-4",onClick:()=>A(),children:"Opslaan"}),t.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-xl mt-4",onClick:()=>e(),children:"Annuleer"})]}),t.jsx("p",{className:"text-xs",children:"Voor sommige instellingen te laten toepassen moet je refreshen"})]})}function Ee(){const[e]=v("color","");ee.useEffect(()=>{const r=document.querySelector(".topnav");r instanceof HTMLElement&&(r.style.backgroundColor=e??"");},[e]);}function Te(){const[e]=v("name",null);ee.useEffect(()=>{var n;if(!e)return;const r=document.querySelector("div.hlp-vert-box > span:not(.topnav__btn__light)");r&&((n=r.textContent)==null?void 0:n.trim())!==e&&(r.textContent=e);},[e]);}function ke(){const[e]=v("oldSrc",null),[r]=v("newSrc",null);ee.useEffect(()=>{if(!e||!r)return;const n=()=>{document.querySelectorAll("img").forEach(s=>{s.src===e&&(s.src=r);});};n();const u=new MutationObserver(m=>{let s=false;m.forEach(c=>{c.type==="childList"&&c.addedNodes.forEach(l=>{(l.nodeName==="IMG"||l.nodeType===1&&l.querySelector("img"))&&(s=true);});}),s&&n();});return u.observe(document.body,{childList:true,subtree:true}),()=>{u.disconnect();}},[e,r]);}function Ce({closeHelp:e}){return t.jsxs(me,{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Hulp"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[t.jsx("p",{className:"text-sm font-bold",children:"Actie"}),t.jsx("p",{className:"text-sm font-bold",children:"Toets"}),t.jsx("p",{children:"Open Instellingen"}),t.jsx("p",{children:"S"}),t.jsx("p",{children:"Open Help"}),t.jsx("p",{children:"H"}),t.jsx("p",{children:"Sluit Menu"}),t.jsx("p",{children:"Esc"}),t.jsx("p",{children:"Open Resultaten"}),t.jsx("p",{children:"R"}),t.jsx("p",{children:"Open Planner"}),t.jsx("p",{children:"P"}),t.jsx("p",{children:"Open Berichten"}),t.jsx("p",{children:"B"})]}),t.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-xl mt-4",onClick:()=>e(),children:"Sluit"})]})}function Re(){const[e,r]=ee.useState(""),[n]=v("color","#ff520e"),[u]=v("timer",true);if(!u)return null;const[m]=v("timetable",[{id:1,start:"08:30",end:"09:20"},{id:2,start:"09:20",end:"10:10"},{id:3,start:"10:20",end:"11:10"},{id:4,start:"11:10",end:"12:00"},{id:5,start:"13:00",end:"13:50"},{id:6,start:"13:50",end:"14:40"},{id:7,start:"14:50",end:"15:40"},{id:8,start:"15:40",end:"16:30"}]);function s(l){const[a,h]=l.split(":").map(Number),d=new Date;return new Date(d.getFullYear(),d.getMonth(),d.getDate(),a,h,0,0)}function c(l){if(l<=0)return "00:00";const a=Math.floor(l/1e3),h=Math.floor(a/60),d=a%60;return `${h.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`}return ee.useEffect(()=>{const l=setInterval(()=>{const a=new Date;let h=null,d=null;for(const f of m){const i=s(f.start),p=s(f.end);if(a>=i&&a<p){h={start:i,end:p};break}if(a<i){d={start:i,end:p};break}}if(h){const f=h.end.getTime()-a.getTime();r(`Tijd over: ${c(f)}`);}else if(d){const f=d.start.getTime()-a.getTime();r(`Volgende les in: ${c(f)}`);}else r("Geen lessen meer vandaag");},1e3);return ()=>clearInterval(l)},[]),t.jsx("div",{className:"fixed bottom-10 left-10 text-white text-2xl p-4 rounded-lg shadow-lg shadow-black/50 backdrop-blur-sm bg-opacity-50",style:{backgroundColor:n},children:e==""?"Laden...":e})}function Oe(){ee.useEffect(()=>{function e(){const n=document.getElementsByClassName("square_photo_128");Array.from(n).map(m=>{m.remove();});}new MutationObserver(n=>{n.forEach(u=>{u.type==="childList"&&e();});}).observe(document.body,{childList:true,subtree:true});},[]);}function _e(){ee.useEffect(()=>{function e(){document.querySelectorAll('td[bgcolor="#FFFFFF"]').forEach(c=>{const l=c;l.style.borderRadius="15px",l.style.padding="10px",l.style.overflow="hidden",l.className="shadow-sm";});}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e();const r=()=>{document.querySelectorAll(".toolbar-bottom, .toolbar-top").forEach(s=>s.remove());};r(),new MutationObserver(r).observe(document.body,{childList:true,subtree:true}),document.querySelectorAll('td[background*="frame"]').forEach(function(s){const c=s;c.style.backgroundImage="none",c.innerHTML="";}),document.querySelectorAll('img[src*="spacer.gif"]').forEach(function(s){s.remove();}),document.querySelectorAll('td[background*="frame_r1_c5.gif"]').forEach(function(s){s.innerHTML="";});},[]);}function fe(){const[e,r]=ee.useState(false),[n,u]=ee.useState(false),[m,s]=v("showTip",true),[c]=v("color","#ff520e");ee.useEffect(()=>{const h=d=>{if(n||e)return;const f=d.target;if(!(f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable||n||e))switch(d.key){case "s":case "S":r(!e);break;case "h":case "H":s(false),u(!n);break;case "r":case "R":window.location.href="/results/main/results";break;case "p":case "P":window.location.href="/planner";break;case "b":case "B":window.location.href="/?module=Messages";break;case "Escape":r(false),u(false);break}};return window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h);}},[]);function l(){r(false);}function a(){u(false);}return Ee(),Te(),ke(),Oe(),_e(),t.jsxs("div",{children:[e?t.jsx(Ne,{closeSettings:l}):null,n?t.jsx(Ce,{closeHelp:a}):null,t.jsx(Re,{}),m?t.jsxs("div",{className:"fixed bottom-4 right-4 text-white p-4 rounded-lg shadow-lg",style:{backgroundColor:c},children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Welkom bij FreakySchool"}),t.jsx("p",{className:"text-sm",children:"Dankuwel om FreakySchool te installeren, hier zijn tips hoe je FreakySchool gebruikt."}),t.jsx("p",{className:"text-sm",children:"Druk op S voor instellingen"}),t.jsx("p",{className:"text-sm",children:"Druk op H voor hulp"}),t.jsx("p",{className:"text-sm",children:"Open het hulpmenu om de tips te laten verdwijnen."})]}):null]})}de.createRoot((()=>{const e=document.createElement("div");return document.body.append(e),e})()).render(t.jsx(ee.StrictMode,{children:t.jsx(fe,{})}));de.createRoot(document.createElement("div")).render(t.jsx(ee.StrictMode,{children:t.jsx(fe,{})}));

})(React, ReactDOM);